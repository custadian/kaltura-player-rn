{"version":3,"names":["KalturaPlayerModule","NativeModules","KalturaPlayerViewManager","KalturaPlayerEvents","KalturaPlayerEmitter","NativeEventEmitter","RNKalturaPlayer","KalturaPlayer","React","Component","nativeProps","nativeComponentRef","setNativeProps","console","log","addListeners","removeListeners","id","options","partnerId","playerInitOptions","asset","assetId","mediaAsset","load","play","pause","stop","replay","position","seek","trackId","changeTrack","rate","playbackRate","vol","volume","isAutoPlay","autoPlay","KS","ks","index","zIndex","componentDidMount","supportedEvents","forEach","type","eventListeners","push","addListener","event","emit","componentWillUnmount","remove","render","props","nativeRef","propTypes","style","PropTypes","object"],"sources":["index.tsx"],"sourcesContent":["import {\n  requireNativeComponent,\n  NativeModules,\n  ViewStyle,\n  NativeEventEmitter\n} from 'react-native';\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nexport const KalturaPlayerModule = NativeModules.KalturaPlayerViewManager;\nconst KalturaPlayerEvents = NativeModules.KalturaPlayerEvents;\nexport const KalturaPlayerEmitter = new NativeEventEmitter(KalturaPlayerEvents);\n\nconst RNKalturaPlayer = requireNativeComponent('KalturaPlayerView');\n\ninterface KalturaPlayerProps {\n  style: ViewStyle\n}\n\nexport class KalturaPlayer extends React.Component<KalturaPlayerProps> {\n  nativeComponentRef: any;\n  eventListeners: any[] = [];\n\n  componentDidMount() {\n    const supportedEvents = [\n      \"canPlay\", \"durationChanged\", \"stopped\", \"ended\", \"loadedMetadata\", \"play\", \"pause\", \"playing\", \"seeking\", \"seeked\", \"replay\",\n      \"tracksAvailable\", \"textTrackChanged\", \"audioTrackChanged\", \"videoTrackChanged\", \"playbackInfo\", \"stateChanged\",\n      \"timedMetadata\", \"sourceSelected\", \"loadedTimeRanges\", \"playheadUpdate\", \"error\", \"errorLog\", \"playbackStalled\", \"playbackRate\"\n    ];\n    supportedEvents.forEach(type => {\n      this.eventListeners.push(KalturaPlayerEmitter.addListener(type, (event: any) => {\n        KalturaPlayerEmitter.emit('KPlayerEvent', { type, ...event })\n      }));\n    })\n  }\n\n  componentWillUnmount() {\n    this.eventListeners.forEach(event => event.remove());\n  }\n\n  static propTypes: {\n    style: object\n  };\n\n  setNativeProps = (nativeProps: any) => {\n    this.nativeComponentRef.setNativeProps(nativeProps);\n  }\n\n  addListeners = () => {\n    console.log(\"Calling Native Prop addListeners()\")\n    this.setNativeProps({ addListeners: true });\n  }\n\n  removeListeners = () => {\n    console.log(\"Calling Native Prop removeListeners()\")\n    this.setNativeProps({ removeListeners: true });\n  }\n\n  setup = (id: number, options: string) => {\n    console.log(\"Setting up the Kaltura Player\")\n    this.setNativeProps({ partnerId: id });\n    this.setNativeProps({ playerInitOptions: options });\n  }\n\n  load = (id: string, asset: string) => {\n    console.log(\"Loading the media.\")\n    this.setNativeProps({ assetId: id });\n    this.setNativeProps({ mediaAsset: asset });\n    this.setNativeProps({ load: true });\n  }\n\n  play = () => {\n    console.log(\"Calling Native Prop play()\")\n    this.setNativeProps({ play: true });\n  };\n\n  pause = () => {\n    console.log(\"Calling Native Prop pause()\")\n    this.setNativeProps({ pause: true });\n  };\n\n  stop = () => {\n    console.log(\"Calling Native Prop stop()\")\n    this.setNativeProps({ stop: true });\n  }\n\n  replay = () => {\n    console.log(\"Calling Native Prop replay()\")\n    this.setNativeProps({ replay: true });\n  }\n\n  seekTo = (position: number) => {\n    console.log(\"Calling Native Prop seekTo()\")\n    this.setNativeProps({ seek: position });\n  }\n\n  changeTrack = (trackId: string) => {\n    console.log(\"Calling Native Prop changeTrack()\")\n    this.setNativeProps({ changeTrack: trackId })\n  }\n\n  setPlaybackRate = (rate: number) => {\n    console.log(\"Calling Native Prop setPlaybackRate()\")\n    this.setNativeProps({ playbackRate: rate })\n  }\n\n  setVolume = (vol: number) => {\n    console.log(\"Calling Native Prop setVolume()\")\n    this.setNativeProps({ volume: vol })\n  }\n\n  setAutoPlay = (isAutoPlay: boolean) => {\n    console.log(\"Calling Native Prop setAutoPlay()\")\n    this.setNativeProps({ autoPlay: isAutoPlay})\n  }\n\n  setKS = (KS: string) => {\n    console.log(\"Calling Native Prop setKS()\")\n    this.setNativeProps({ ks: KS })\n  }\n\n  setZIndex = (index: number) => {\n    console.log(\"Calling Native Prop setZIndex()\")\n    this.setNativeProps({ zIndex: index })\n  }\n\n  render() {\n    return <RNKalturaPlayer {...this.props} ref={(nativeRef) => this.nativeComponentRef = nativeRef} />;\n  }\n}\n\nKalturaPlayer.propTypes = {\n  style: PropTypes.object,\n};\n\n\n"],"mappings":"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"}