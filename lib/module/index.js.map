{"version":3,"names":["requireNativeComponent","React","PropTypes","PlayerEvents","RNKalturaPlayer","PLAYER_TYPE","MEDIA_FORMAT","MEDIA_ENTRY_TYPE","DRM_SCHEME","PLAYER_PLUGIN","KalturaPlayer","Component","nativeProps","nativeComponentRef","setNativeProps","console","log","addListeners","removeListeners","options","id","partnerId","playerInitOptions","pluginName","config","pluginJson","pluginConfig","stringifiedJson","JSON","stringify","updatePluginConfig","asset","assetId","mediaAsset","load","play","pause","stop","replay","position","seek","trackId","changeTrack","rate","playbackRate","vol","volume","isAutoPlay","autoPlay","KS","ks","index","zIndex","componentDidMount","componentWillUnmount","render","props","nativeRef","propTypes","style","object"],"sources":["index.tsx"],"sourcesContent":["import { requireNativeComponent, ViewStyle } from 'react-native';\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport PlayerEvents from './events/PlayerEvents';\n\nconst RNKalturaPlayer = requireNativeComponent('KalturaPlayerView');\n\ninterface KalturaPlayerProps {\n  style: ViewStyle;\n  playerType: PLAYER_TYPE;\n}\n\nexport default PlayerEvents;\n\nexport enum PLAYER_TYPE {\n  OVP = 'ovp',\n  OTT = 'ott',\n  BASIC = 'basic',\n}\n\nexport enum MEDIA_FORMAT {\n  DASH = 'dash',\n  HLS = 'hls',\n  WVM = 'wvm',\n  MP4 = 'mp4',\n  MP3 = 'mp3',\n  UDP = 'udp',\n}\n\nexport enum MEDIA_ENTRY_TYPE {\n  VOD = 'Vod',\n  LIVE = 'Live',\n  DVRLIVE = 'DvrLive',\n}\n\nexport enum DRM_SCHEME {\n  WIDEVINE_CENC = 'WidevineCENC',\n  PLAYREADY_CENC = 'PlayReadyCENC',\n  WIDEVINE_CENC_CLASSIC = 'WidevineClassic',\n  PLAYREADY_CLASSIC = 'PlayReadyClassic',\n}\n\nexport enum PLAYER_PLUGIN {\n  IMA = 'ima',\n  IMADAI = 'imadai',\n  YOUBORA = 'youbora',\n  KAVA = 'kava',\n  OTT_ANALYTICS = 'ottAnalytics',\n  BROADPEAK = 'broadpeak',\n}\n\nexport class KalturaPlayer extends React.Component<KalturaPlayerProps> {\n  nativeComponentRef: any;\n  eventListener: any;\n  playerType: PLAYER_TYPE | undefined;\n\n  static propTypes: {\n    style: object;\n  };\n\n  componentDidMount() {\n    console.log('componentDidMount from Library.');\n  }\n\n  componentWillUnmount() {\n    console.log('componentWillUnmount from Library');\n  }\n\n  setNativeProps = (nativeProps: any) => {\n    this.nativeComponentRef.setNativeProps(nativeProps);\n  };\n\n  /**\n   * Add the listners for the Kaltura Player\n   */\n  addListeners = () => {\n    console.log('Calling Native Prop addListeners()');\n    this.setNativeProps({ addListeners: true });\n  };\n\n  /**\n   * Add the listners for the Kaltura Player\n   */\n  removeListeners = () => {\n    console.log('Calling Native Prop removeListeners()');\n    this.setNativeProps({ removeListeners: true });\n  };\n\n  /**\n   * This method creates a Player instance internally (Basic, OVP/OTT Player)\n   * With this, it take the PlayerInitOptions which are having essential Player settings values\n   *\n   * @param options PlayerInitOptions JSON String\n   * @param id PartnerId (Don't pass this parameter for BasicPlayer. For OVP/OTT player this value\n   * should be always greater than 0 and should be valid otherwise, we will not be able to featch the details\n   * for the mediaId or the entryId)\n   */\n  setup = (options: string, id: number = 0) => {\n    console.log('Setting up the Player');\n    this.setNativeProps({ partnerId: id });\n    this.setNativeProps({ playerInitOptions: options });\n  };\n\n  /**\n   * Update a Plugin Config\n   *\n   * @param pluginName Plugin Name (Youbora, IMA etc)\n   * @param config Updated Plugin Config (YouboraConfig JSON, IMAConfig JSON etc)\n   */\n  updatePluginConfig = (pluginName: PLAYER_PLUGIN, config: object) => {\n    const pluginJson = {\n      pluginName: pluginName,\n      pluginConfig: config,\n    };\n    const stringifiedJson = JSON.stringify(pluginJson);\n    console.log('Updated Plugin is: ' + stringifiedJson);\n    this.setNativeProps({ updatePluginConfig: stringifiedJson });\n  };\n\n  /**\n   * Load the media with the given\n   *\n   * assetId OR mediaId OR entryID for OVP/OTT Kaltura Player\n   *\n   * playbackURL for Basic Kaltura Player\n   *\n   * @param id Playback URL for Kaltura Basic Player OR\n   * MediaId for Kaltura OTT Player OR\n   * EntryId for Kaltura OVP Player\n   * @param asset Media Asset JSON String\n   */\n  loadMedia = (id: string, asset: string) => {\n    console.log(\n      'Loading the media. assetId: ' + id + ' and Media asset id: ' + asset\n    );\n    this.setNativeProps({ assetId: id });\n    this.setNativeProps({ mediaAsset: asset });\n    this.setNativeProps({ load: true });\n  };\n\n  /**\n   * Play the player if it is not playing\n   */\n  play = () => {\n    console.log('Calling Native Prop play()');\n    this.setNativeProps({ play: true });\n  };\n\n  /**\n   * Pause the player if it is playing\n   */\n  pause = () => {\n    console.log('Calling Native Prop pause()');\n    this.setNativeProps({ pause: true });\n  };\n\n  /**\n   * Stops the player to the initial state\n   */\n  stop = () => {\n    console.log('Calling Native Prop stop()');\n    this.setNativeProps({ stop: true });\n  };\n\n  /**\n   * Replays the media from the beginning\n   */\n  replay = () => {\n    console.log('Calling Native Prop replay()');\n    this.setNativeProps({ replay: true });\n  };\n\n  /**\n   * Seek the player to the specified position\n   * @param position in miliseconds (Ms)\n   */\n  seekTo = (position: number) => {\n    console.log('Calling Native Prop seekTo()');\n    this.setNativeProps({ seek: position });\n  };\n\n  /**\n   * Change a specific track (Video, Audio or Text track)\n   * @param trackId Unique track ID which was sent in `tracksAvailable` event\n   */\n  changeTrack = (trackId: string) => {\n    console.log('Calling Native Prop changeTrack()');\n    this.setNativeProps({ changeTrack: trackId });\n  };\n\n  /**\n   * Change the playback rate (ff or slow motion). Default is 1.0f\n   * @param rate Desired playback rate (Ex: 0.5f, 1.5f 2.0f etc)\n   */\n  setPlaybackRate = (rate: number) => {\n    console.log('Calling Native Prop setPlaybackRate()');\n    this.setNativeProps({ playbackRate: rate });\n  };\n\n  /**\n   * Change the volume of the current audio track.\n   * Accept values between 0.0 and 1.0. Where 0.0 is mute and 1.0 is maximum volume.\n   * If the volume parameter is higher then 1.0, it will be converted to 1.0.\n   * If the volume parameter is lower then 0.0, it be converted to 0.0.\n   *\n   * @param vol - volume to set.\n   */\n  setVolume = (vol: number) => {\n    console.log('Calling Native Prop setVolume()');\n    this.setNativeProps({ volume: vol });\n  };\n\n  setAutoPlay = (isAutoPlay: boolean) => {\n    console.log('Calling Native Prop setAutoPlay()');\n    this.setNativeProps({ autoPlay: isAutoPlay });\n  };\n\n  setKS = (KS: string) => {\n    console.log('Calling Native Prop setKS()');\n    this.setNativeProps({ ks: KS });\n  };\n\n  setZIndex = (index: number) => {\n    console.log('Calling Native Prop setZIndex()');\n    this.setNativeProps({ zIndex: index });\n  };\n\n  render() {\n    return (\n      <RNKalturaPlayer\n        {...this.props}\n        ref={(nativeRef) => (this.nativeComponentRef = nativeRef)}\n      />\n    );\n  }\n}\n\nKalturaPlayer.propTypes = {\n  style: PropTypes.object,\n};\n"],"mappings":"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"}